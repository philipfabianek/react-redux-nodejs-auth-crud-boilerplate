!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=53)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startEditMemory=t.editMemory=t.startRemoveMemory=t.removeMemory=t.startAddMemory=t.addMemory=t.startSetMemories=t.setMemories=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var a=t.setMemories=function(e){return{type:"SET_MEMORIES",memories:e}},i=(t.startSetMemories=function(){return function(e,t){var n=t().user.id;return o.default.post("/api/get-memories",{userId:n}).then(function(t){var n=t.data.memories;e(a(n))}).catch(function(e){console.log(e)})}},t.addMemory=function(e){return{type:"ADD_MEMORY",memory:e}}),u=(t.startAddMemory=function(e){return function(t,n){var a=n().user.id,u=e.description,s=void 0===u?"":u,l=e.createdAt,c=void 0===l?Date.now():l,f=e.note,d={userId:a,description:s,createdAt:c,note:void 0===f?"":f};return o.default.post("/api/add-memory",{memory:d}).then(function(e){var n=e.data;return t(i(r({_id:n},d))),new Promise(function(e){return e()})})}},t.removeMemory=function(e){return{type:"REMOVE_MEMORY",id:e}}),s=(t.startRemoveMemory=function(e){return function(t,n){return o.default.post("/api/remove-memory",{id:e}).then(function(n){return t(u(e)),new Promise(function(e){return e()})})}},t.editMemory=function(e,t){return{type:"EDIT_MEMORY",_id:e,updates:t}});t.startEditMemory=function(e,t){return function(n,r){return o.default.post("/api/edit-memory",{_id:e,updates:t}).then(function(r){return n(s(e,t)),new Promise(function(e){return e()})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mongodb:{dbURI:"mongodb://Philip:mamamijajo737338080@ds115442.mlab.com:15442/passport-tryout-react"},session:{cookieKey:"hj1&las?6e4!d5a$saâ‚¬2s"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startLogin=t.login=t.startLogout=t.logout=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var o=t.logout=function(){return{type:"LOGOUT_USER"}},a=(t.startLogout=function(){return function(e,t){return r.default.post("/auth/logout").then(function(t){e(o())}).catch(function(e){console.log(e)})}},t.login=function(e){return{type:"LOGIN_USER",user:e}});t.startLogin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,o){return r.default.post("/auth/login",{username:e,password:t}).then(function(e){return n(a(e.data)),e.data})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(s(n(3)),s(n(0))),a=n(2),i=n(1),u=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Navigation=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onLogoutClick",value:function(){var e=this;this.props.startLogout().then(function(){e.props.redirect("/")})}},{key:"render",value:function(){return this.props.user?o.default.createElement("div",{className:"navigation"},o.default.createElement(a.NavLink,{to:"/"},"HOME"),o.default.createElement(a.NavLink,{to:"/dashboard"},"DASHBOARD"),o.default.createElement("button",{onClick:this.onLogoutClick.bind(this)},"LOGOUT")):o.default.createElement("div",{className:"navigation"},o.default.createElement(a.NavLink,{to:"/"},"HOME"),o.default.createElement(a.NavLink,{to:"/login"},"LOGIN"),o.default.createElement(a.NavLink,{to:"/register"},"REGISTER"))}}]),t}();t.default=(0,i.connect)(function(e,t){return{user:e.user}},function(e){return{startLogout:function(){return e((0,u.startLogout)())}}})(l)},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.specialTransitionEvent=function(e){var t=e.currentTarget,n=t.getElementsByClassName("special-transition__1")[0],r=t.getElementsByClassName("special-transition__2")[0];n.classList.add("special-transition__1--active"),r.classList.add("special-transition__2--active")},t.specialTransition=function(e){var t=e.getElementsByClassName("special-transition__1")[0],n=e.getElementsByClassName("special-transition__2")[0];t.classList.add("special-transition__1--active"),n.classList.add("special-transition__2--active")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));var o=new(0,r.default.Schema)({userId:String,description:String,createdAt:Number,note:String}),a=r.default.model("memory",o);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));var o=new(0,r.default.Schema)({username:String,passwordHash:String}),a=r.default.model("user",o);t.default=a},function(e,t){e.exports=require("bcryptjs")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"SET_MEMORIES":return t.memories;case"ADD_MEMORY":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t.memory]);case"REMOVE_MEMORY":return e.filter(function(e){return e._id!==t.id});case"EDIT_MEMORY":return e.map(function(e){return e._id===t._id?r({},e,t.updates):e});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case"LOGIN_USER":return t.user;case"LOGOUT_USER":return!1;case"EDIT_USER":default:return e}}},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=u(n(18)),a=u(n(17)),i=u(n(16));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.createStore)((0,r.combineReducers)({user:a.default,memories:i.default}),e,(0,r.compose)((0,r.applyMiddleware)(o.default)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateRoute=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1),i=n(2);var u=function(e){var t=e.isAuthenticated,n=e.component,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isAuthenticated","component"]);return o.default.createElement(i.Route,r({},a,{component:function(e){return t?o.default.createElement("div",null,o.default.createElement(n,e)):o.default.createElement(i.Redirect,{to:"/"})}}))};t.PrivateRoute=u;t.default=(0,a.connect)(function(e){return{isAuthenticated:!!e.user}})(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicRoute=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1),i=n(2);var u=function(e){var t=e.isAuthenticated,n=e.component,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isAuthenticated","component"]);return o.default.createElement(i.Route,r({},a,{component:function(e){return t?o.default.createElement(i.Redirect,{to:"/dashboard"}):o.default.createElement(n,e)}}))};t.PublicRoute=u;t.default=(0,a.connect)(function(e){return{isAuthenticated:!!e.user}})(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(0)),a=(n(2),i(n(7)));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(a.default,{redirect:this.props.history.push}),o.default.createElement("h1",null,"Page not found :("))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1),i=n(4);var u=t.MemoryItem=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1,description:n.props.memory.description,prevDescription:n.props.memory.description,note:n.props.memory.note,prevNote:n.props.memory.note,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"clearError",value:function(){this.setState(function(){return{error:null}})}},{key:"startRemoveMemory",value:function(){var e=this,t=this.props.memory._id;t.length>0&&"string"==typeof t?this.props.startRemoveMemory(t).then(function(){}).catch(function(t){e.setState(function(){return{error:t.response.data.message}})}):this.setState(function(){return{error:"Something went wrong, this is not your fault"}})}},{key:"editMemory",value:function(){var e=this,t=this.props.memory,n=this.state,r=n.description,o=n.note,a=n.prevDescription,i=n.prevNote,u=Array.from(document.getElementsByClassName("input-"+t._id)),s=document.getElementsByClassName("button-"+t._id)[0];if(this.state.editing)if("string"==typeof r&&"string"==typeof o&&r.length>0){var l={description:r,note:o};r!==a||o!==i?this.props.startEditMemory(t._id,l).then(function(){e.setState(function(){return{editing:!1,error:null,prevDescription:r,prevNote:o}}),s.innerHTML="EDIT",u.map(function(e){e.setAttribute("readonly",!0),e.className="memory-item__input input-"+t._id})}).catch(function(t){e.setState(function(){return{error:"Please fill out atleast description"}})}):(this.setState(function(){return{editing:!1,error:null}}),s.innerHTML="EDIT",u.map(function(e){e.setAttribute("readonly",!0),e.className="memory-item__input input-"+t._id}))}else this.setState(function(){return{error:"Please fill out atleast description"}});else this.setState(function(){return{editing:!0}}),s.innerHTML="CHANGE",u.map(function(e){e.removeAttribute("readonly",!1),e.className+=" memory-item__input--editable"})}},{key:"onDescriptionChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{description:t}})}},{key:"onNoteChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{note:t}})}},{key:"render",value:function(){var e=this.props.memory;return o.default.createElement("li",{className:"memory-item"},o.default.createElement("div",{className:"memory-item__description"},o.default.createElement("p",null,"Description:"),o.default.createElement("input",{className:"memory-item__input input-"+e._id,readOnly:!0,value:this.state.description,onChange:this.onDescriptionChange.bind(this)})),o.default.createElement("div",{className:"memory-item__note"},o.default.createElement("p",null,"Note:"),o.default.createElement("input",{className:"memory-item__input input-"+e._id,readOnly:!0,value:this.state.note,onChange:this.onNoteChange.bind(this)})),o.default.createElement("div",{className:"memory-item__buttons"},o.default.createElement("button",{className:"memory-item__button memory-item__button--edit button-"+e._id,onClick:this.editMemory.bind(this)},"EDIT"),o.default.createElement("button",{className:"memory-item__button memory-item__button--delete",onClick:this.startRemoveMemory.bind(this)},"DELETE")),o.default.createElement("p",{className:this.state.error?"login__error login__error--visible":"login__error"},o.default.createElement("span",{onClick:this.clearError.bind(this)},"x"),this.state.error))}}]),t}();t.default=(0,a.connect)(void 0,function(e){return{startRemoveMemory:function(t){return e((0,i.startRemoveMemory)(t))},startEditMemory:function(t,n){return e((0,i.startEditMemory)(t,n))}}})(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryList=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),a=n(1),i=n(4),u=s(n(24));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.MemoryList=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onRemoveButtonClick",value:function(e){this.props.startRemoveMemory(e)}},{key:"render",value:function(){return o.default.createElement("div",{className:"memory-list"},this.props.memories.length>0&&o.default.createElement("ul",null,this.props.memories.map(function(e){return o.default.createElement(u.default,{key:e._id,memory:e})})))}}]),t}();t.default=(0,a.connect)(function(e,t){return{memories:e.memories}},function(e){return{startRemoveMemory:function(t){return e((0,i.startRemoveMemory)(t))}}})(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddMemory=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),a=n(1),i=(u(n(11)),n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.AddMemory=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={description:"",note:"",error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"clearError",value:function(){this.setState(function(){return{error:null}})}},{key:"onDescriptionChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{description:t}})}},{key:"onNoteChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{note:t}})}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var n=Date.now(),r=this.state,o=r.description,a=r.note;"string"==typeof o&&"string"==typeof a&&o.length>0?this.props.startAddMemory({description:o,createdAt:n,note:a}).then(function(){t.setState(function(){return{description:"",note:"",error:null}})}).catch(function(e){t.setState(function(){return{error:e.response.data.message}})}):this.setState(function(){return{error:"Please fill out atleast description"}})}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement("form",{className:"add-memory",onSubmit:this.onFormSubmit.bind(this)},o.default.createElement("input",{type:"text",placeholder:"Memory description",value:this.state.description,onChange:this.onDescriptionChange.bind(this)}),o.default.createElement("input",{type:"text",placeholder:"Memory note (optional)",value:this.state.note,onChange:this.onNoteChange.bind(this)}),o.default.createElement("button",{type:"submit"},"ADD MEMORY")),o.default.createElement("p",{className:this.state.error?"login__error login__error--visible":"login__error"},o.default.createElement("span",{onClick:this.clearError.bind(this)},"x"),this.state.error))}}]),t}();t.default=(0,a.connect)(null,function(e){return{startAddMemory:function(t){return e((0,i.startAddMemory)(t))}}})(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dashboard=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),a=n(1),i=c(n(26)),u=c(n(25)),s=n(11),l=n(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Dashboard=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onLogoutClick",value:function(){var e=this;this.props.startLogout().then(function(){e.props.redirect("/")})}},{key:"componentDidMount",value:function(){setTimeout(function(){var e=document.getElementsByClassName("special-transition")[0];(0,s.specialTransition)(e)},50)}},{key:"render",value:function(){var e=this.props.user,t=e.username;e.id;if(this.props.user)return o.default.createElement("div",{className:"dashboard special-transition"},o.default.createElement("div",{className:"special-transition__1"}),o.default.createElement("div",{className:"special-transition__2"}),o.default.createElement("div",{className:"dashboard__header"},o.default.createElement("h1",null,"Dashboard"),o.default.createElement("button",{className:"dashboard__logout",onClick:this.onLogoutClick.bind(this)},"LOGOUT")),o.default.createElement("div",{className:"dashboard__content"},o.default.createElement("h2",null,"Welcome to your dashboard, ",t.charAt(0).toUpperCase()+t.slice(1)),o.default.createElement(i.default,null),o.default.createElement(u.default,null)))}}]),t}();t.default=(0,a.connect)(function(e,t){return{user:e.user}},function(e){return{startLogout:function(){return e((0,l.startLogout)())}}})(f)},function(e,t){e.exports=require("react-router")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(s(n(3)),s(n(0))),a=(n(28),n(1)),i=(s(n(7)),n(6)),u=n(4);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Login=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={username:"",password:"",error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"clearError",value:function(){this.setState(function(){return{error:null}})}},{key:"onUsernameChange",value:function(e){var t=e.target.value;this.setState(function(){return{username:t}})}},{key:"onPasswordChange",value:function(e){var t=e.target.value;this.setState(function(){return{password:t}})}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.username,o=n.password;this.props.startLogin(r,o).then(function(e){t.props.startSetMemories()}).catch(function(e){t.setState(function(){return{error:e.response.data.message}})})}},{key:"render",value:function(){this.state.success;return o.default.createElement("div",{className:"login"},o.default.createElement("div",{className:"login__content"},o.default.createElement("h1",null,"Login"),o.default.createElement("form",{onSubmit:this.onFormSubmit.bind(this)},o.default.createElement("input",{autoComplete:"off",name:"username",placeholder:"Username",type:"text",value:this.state.username,onChange:this.onUsernameChange.bind(this)}),o.default.createElement("input",{name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.onPasswordChange.bind(this)}),o.default.createElement("button",{type:"submit"},"Login"))),o.default.createElement("p",{className:this.state.error?"login__error login__error--visible":"login__error"},o.default.createElement("span",{onClick:this.clearError.bind(this)},"x"),this.state.error))}}]),t}();t.default=(0,a.connect)(null,function(e){return{startLogin:function(t,n){return e((0,i.startLogin)(t,n))},startSetMemories:function(){return e((0,u.startSetMemories)())}}})(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(3)),a=i(n(0));i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={username:"",password:"",error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"clearError",value:function(){this.setState(function(){return{error:null}})}},{key:"onUsernameChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{username:t}})}},{key:"onPasswordChange",value:function(e){var t=e.target.value.toString();this.setState(function(){return{password:t}})}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.username,a=n.password;r.length<3?this.setState(function(){return{error:"Please enter an username with a minumum length of 3"}}):a.length<8?this.setState(function(){return{error:"Please enter a password with a minumum length of 8"}}):o.default.post("/auth/register",{username:r,password:a}).then(function(e){t.props.history.push("/login")}).catch(function(e){t.setState(function(){return{error:e.response.data.message}})})}},{key:"render",value:function(){var e=this;return"undefined"!=typeof document&&(document.onkeydown=function(t){27==t.keyCode&&e.clearError()}),a.default.createElement("div",{className:"register"},a.default.createElement("div",{className:"register__content"},a.default.createElement("h1",null,"Register"),a.default.createElement("form",{onSubmit:this.onFormSubmit.bind(this)},a.default.createElement("input",{autoComplete:"off",name:"username",placeholder:"Username",type:"text",value:this.state.username,onChange:this.onUsernameChange.bind(this)}),a.default.createElement("input",{name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.onPasswordChange.bind(this)}),a.default.createElement("button",{type:"submit"},"Register"))),a.default.createElement("p",{className:this.state.error?"register__error register__error--visible":"register__error"},a.default.createElement("span",{onClick:this.clearError.bind(this)},"x"),this.state.error))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(2);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return o.default.createElement("div",{className:"landing-page"},o.default.createElement("div",{className:"landing-page__content"},o.default.createElement("h1",null,"NODEJS BOILERPLATE"),o.default.createElement("div",null,o.default.createElement(a.Link,{className:"landing-page__content__register",to:"/register"},"REGISTER"),o.default.createElement(a.Link,{className:"landing-page__content__login",to:"/login"},"LOGIN"))))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r=d(n(0)),o=n(2),a=d(n(31)),i=d(n(30)),u=d(n(29)),s=d(n(27)),l=d(n(23)),c=d(n(22)),f=d(n(21));function d(e){return e&&e.__esModule?e:{default:e}}t.App=function(){return r.default.createElement(o.Switch,null,r.default.createElement(o.Route,{path:"/",exact:!0,component:a.default}),r.default.createElement(o.Route,{path:"/register",exact:!0,component:i.default}),r.default.createElement(c.default,{path:"/login",exact:!0,component:u.default}),r.default.createElement(f.default,{path:"/dashboard",exact:!0,component:s.default}),r.default.createElement(o.Route,{component:l.default}))}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(35),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,u,s){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,a,i,u,s],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=require("object-assign")},function(e,t,n){"use strict";var r=n(39);n(38);var o=n(0),a=n(37),i=n(36),u=n(34),s=n(33);function l(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}function c(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var f={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},d=c,p=function(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?c(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e},m={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0};function h(e,t){return(e&t)===t}var y={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=y,n=e.Properties||{},r=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{};for(var a in e=e.DOMMutationMethods||{},n){v.properties.hasOwnProperty(a)&&l("48",a);var i=a.toLowerCase(),u=n[a];1>=(i={attributeName:i,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:h(u,t.MUST_USE_PROPERTY),hasBooleanValue:h(u,t.HAS_BOOLEAN_VALUE),hasNumericValue:h(u,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:h(u,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:h(u,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:h(u,t.HAS_STRING_BOOLEAN_VALUE)}).hasBooleanValue+i.hasNumericValue+i.hasOverloadedBooleanValue||l("50",a),o.hasOwnProperty(a)&&(i.attributeName=o[a]),r.hasOwnProperty(a)&&(i.attributeNamespace=r[a]),e.hasOwnProperty(a)&&(i.mutationMethod=e[a]),v.properties[a]=i}}},v={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ATTRIBUTE_NAME_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(v.isReservedProp(e)||!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return v.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return v.properties.hasOwnProperty(e)?v.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(v.isReservedProp(e))return!0;var t=v.getPropertyInfo(e);return t?t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:"data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e},isReservedProp:function(e){return m.hasOwnProperty(e)},injection:y},g=v,_=/["'&<>]/;function b(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=_.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var w=new RegExp("^["+g.ATTRIBUTE_NAME_START_CHAR+"]["+g.ATTRIBUTE_NAME_CHAR+"]*$"),E={},O={};var M=function(){return g.ROOT_ATTRIBUTE_NAME+'=""'},S=function(e,t){var n=g.getPropertyInfo(e);if(n){if(null==t||n.hasBooleanValue&&!t||n.hasNumericValue&&isNaN(t)||n.hasPositiveNumericValue&&1>t||n.hasOverloadedBooleanValue&&!1===t)return"";var r=n.attributeName;if(n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t)return r+'=""';if("boolean"!=typeof t||g.shouldAttributeAcceptBooleanValue(e))return r+'="'+b(t)+'"'}else if(g.shouldSetAttribute(e,t))return null==t?"":e+'="'+b(t)+'"';return null},x=function(e,t){return function(e){return!!O.hasOwnProperty(e)||!E.hasOwnProperty(e)&&(w.test(e)?O[e]=!0:(E[e]=!0,!1))}(e)&&null!=t?e+'="'+b(t)+'"':""},k={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},A=r({menuitem:!0},k),P={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(e){N.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),P[t]=P[e]})});var j=f,R=d,C=p,T=o.Children.toArray,L={listing:!0,pre:!0,textarea:!0};function I(e){return"string"==typeof e?e:"function"==typeof e?e.displayName||e.name:null}var D=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,U={},F=u(function(e){return i(e)});function V(e,t){if(e=e.contextTypes){var n,r={};for(n in e)r[n]=t[n];t=r}else t=a;return t}var B={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null};function H(e,t){void 0===e&&l("152",I(t)||"Component")}var q=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t=o.isValidElement(t)?[t]:T(t),this.stack=[{domNamespace:j.html,children:t,childIndex:0,context:a,footer:""}],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n}return e.prototype.read=function(e){if(this.exhausted)return null;for(var t="";t.length<e;){if(0===this.stack.length){this.exhausted=!0;break}var n=this.stack[this.stack.length-1];if(n.childIndex>=n.children.length)t+=n.footer,this.previousWasTextNode=!1,this.stack.pop(),"select"===n.tag&&(this.currentSelectValue=null);else{var r=n.children[n.childIndex++];t+=this.render(r,n.context,n.domNamespace)}}return t},e.prototype.render=function(e,t,n){return"string"==typeof e||"number"==typeof e?""===(n=""+e)?"":this.makeStaticMarkup?b(n):this.previousWasTextNode?"\x3c!-- --\x3e"+b(n):(this.previousWasTextNode=!0,b(n)):(t=function(e,t){for(;o.isValidElement(e);){var n=e.type;if("function"!=typeof n)break;var a=V(n,t),i=[],u=!1,s={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===i)return null},enqueueReplaceState:function(e,t){u=!0,i=[t]},enqueueSetState:function(e,t){if(null===i)return null;i.push(t)}};if(n.prototype&&n.prototype.isReactComponent)var c=new n(e.props,a,s);else if(null==(c=n(e.props,a,s))||null==c.render){H(e=c,n);continue}if(c.props=e.props,c.context=a,c.updater=s,void 0===(s=c.state)&&(c.state=s=null),c.componentWillMount)if(c.componentWillMount(),i.length){s=i;var f=u;if(i=null,u=!1,f&&1===s.length)c.state=s[0];else{var d=f?s[0]:c.state,p=!0;for(f=f?1:0;f<s.length;f++){var m=s[f];(m="function"==typeof m?m.call(c,d,e.props,a):m)&&(p?(p=!1,d=r({},d,m)):r(d,m))}c.state=d}}else i=null;if(H(e=c.render(),n),"function"==typeof c.getChildContext){"object"!=typeof(a=n.childContextTypes)&&l("107",I(n)||"Unknown");var h=c.getChildContext();for(var y in h)y in a||l("108",I(n)||"Unknown",y)}h&&(t=r({},t,h))}return{child:e,context:t}}(e,t),e=t.child,t=t.context,null===e||!1===e?"":o.isValidElement(e)?this.renderDOM(e,t,n):(e=T(e),this.stack.push({domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""))},e.prototype.renderDOM=function(e,t,n){var a=e.type.toLowerCase();n===j.html&&R(a),U.hasOwnProperty(a)||(D.test(a)||l("65",a),U[a]=!0);var i=e.props;if("input"===a)i=r({type:void 0},i,{defaultChecked:void 0,defaultValue:void 0,value:null!=i.value?i.value:i.defaultValue,checked:null!=i.checked?i.checked:i.defaultChecked});else if("textarea"===a){var u=i.value;if(null==u){u=i.defaultValue;var s=i.children;null!=s&&(null!=u&&l("92"),Array.isArray(s)&&(1>=s.length||l("93"),s=s[0]),u=""+s),null==u&&(u="")}i=r({},i,{value:void 0,children:""+u})}else if("select"===a)this.currentSelectValue=null!=i.value?i.value:i.defaultValue,i=r({},i,{value:void 0});else if("option"===a){s=this.currentSelectValue;var c=function(e){var t="";return o.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(i.children);if(null!=s){var f=null!=i.value?i.value+"":c;if(u=!1,Array.isArray(s)){for(var d=0;d<s.length;d++)if(""+s[d]===f){u=!0;break}}else u=""+s===f;i=r({selected:void 0,children:void 0},i,{selected:u,children:c})}}for(g in(u=i)&&(A[a]&&(null!=u.children||null!=u.dangerouslySetInnerHTML)&&l("137",a,""),null!=u.dangerouslySetInnerHTML&&(null!=u.children&&l("60"),"object"==typeof u.dangerouslySetInnerHTML&&"__html"in u.dangerouslySetInnerHTML||l("61")),null!=u.style&&"object"!=typeof u.style&&l("62","")),u=i,s=this.makeStaticMarkup,c=1===this.stack.length,f="<"+e.type,u)if(u.hasOwnProperty(g)){var p=u[g];if(null!=p){if("style"===g){d=void 0;var m="",h="";for(d in p)if(p.hasOwnProperty(d)){var y=0===d.indexOf("--"),v=p[d];null!=v&&(m+=h+F(d)+":",h=d,m+=y=null==v||"boolean"==typeof v||""===v?"":y||"number"!=typeof v||0===v||P.hasOwnProperty(h)&&P[h]?(""+v).trim():v+"px",h=";")}p=m||null}d=null;e:if(y=a,v=u,-1===y.indexOf("-"))y="string"==typeof v.is;else switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":y=!1;break e;default:y=!0}y?B.hasOwnProperty(g)||(d=x(g,p)):d=S(g,p),d&&(f+=" "+d)}}s||c&&(f+=" "+M());var g=f;u="",k.hasOwnProperty(a)?g+="/>":(g+=">",u="</"+e.type+">");e:{if(null!=(s=i.dangerouslySetInnerHTML)){if(null!=s.__html){s=s.__html;break e}}else if("string"==typeof(s=i.children)||"number"==typeof s){s=b(s);break e}s=null}return null!=s?(i=[],L[a]&&"\n"===s.charAt(0)&&(g+="\n"),g+=s):i=T(i.children),e={domNamespace:C(n,e.type),tag:a,children:i,childIndex:0,context:t,footer:u},this.stack.push(e),g},e}(),z={renderToString:function(e){return new q(e,!1).read(1/0)},renderToStaticMarkup:function(e){return new q(e,!0).read(1/0)}};var G=function(e){function t(n,r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var o=e.call(this,{});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(o=!o||"object"!=typeof o&&"function"!=typeof o?this:o).partialRenderer=new q(n,r),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._read=function(e){try{this.push(this.partialRenderer.read(e))}catch(e){this.emit("error",e)}},t}(s.Readable),W={renderToNodeStream:function(e){return new G(e,!1)},renderToStaticNodeStream:function(e){return new G(e,!0)}},Y=g.injection.MUST_USE_PROPERTY,Z=g.injection.HAS_BOOLEAN_VALUE,$=g.injection.HAS_NUMERIC_VALUE,J=g.injection.HAS_POSITIVE_NUMERIC_VALUE,K=g.injection.HAS_STRING_BOOLEAN_VALUE,X={Properties:{allowFullScreen:Z,allowTransparency:K,async:Z,autoPlay:Z,capture:Z,checked:Y|Z,cols:J,contentEditable:K,controls:Z,default:Z,defer:Z,disabled:Z,download:g.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:K,formNoValidate:Z,hidden:Z,loop:Z,multiple:Y|Z,muted:Y|Z,noValidate:Z,open:Z,playsInline:Z,readOnly:Z,required:Z,reversed:Z,rows:J,rowSpan:$,scoped:Z,seamless:Z,selected:Y|Z,size:J,start:$,span:J,spellCheck:K,style:0,itemScope:Z,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:K},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Q=g.injection.HAS_STRING_BOOLEAN_VALUE,ee="http://www.w3.org/1999/xlink",te="http://www.w3.org/XML/1998/namespace",ne={Properties:{autoReverse:Q,externalResourcesRequired:Q,preserveAlpha:Q},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:ee,xlinkArcrole:ee,xlinkHref:ee,xlinkRole:ee,xlinkShow:ee,xlinkTitle:ee,xlinkType:ee,xmlBase:te,xmlLang:te,xmlSpace:te}},re=/[\-\:]([a-z])/g;function oe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(re,oe);ne.Properties[t]=0,ne.DOMAttributeNames[t]=e}),g.injection.injectDOMPropertyConfig(X),g.injection.injectDOMPropertyConfig(ne),e.exports={renderToString:z.renderToString,renderToStaticMarkup:z.renderToStaticMarkup,renderToNodeStream:W.renderToNodeStream,renderToStaticNodeStream:W.renderToStaticNodeStream,version:"16.0.0"}},function(e,t,n){"use strict";e.exports=n(40)},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(43)),o=d(n(15)),a=d(n(0)),i=(d(n(42)),d(n(41))),u=n(32),s=n(2),l=n(1),c=d(n(20)),f=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(t,n){var d={};t.url;r.default.readFile(o.default.join(e,"..","html","index.html"),"utf8",function(e,r){e&&console.log("Error :( ",e);var o=void 0,p=!1,m="none";t.user&&(p={id:t.user._id,username:t.user.username},m=t.user.id),f.default.find({userId:m},function(e,f){e&&console.log(e);var m=(0,c.default)({user:p,memories:f}),h=i.default.renderToStaticMarkup(a.default.createElement(l.Provider,{store:m},a.default.createElement(s.StaticRouter,{location:t.url,context:d},a.default.createElement(u.App,{url:t.url}))));o=r.replace(/<div id="app"><\/div>/,'<div id="app">'+h+"</div>\n    <script>window.__USER__ = "+JSON.stringify(p)+"<\/script>\n    <script>window.__MEMORIES__ = "+JSON.stringify(f)+"<\/script>"),n.send(o)})})}}).call(this,"server\\render")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(10)),o=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.Router();i.post("/get-memories",function(e,t){var n=e.body.userId;o.default.find({userId:n},function(e,n){e&&console.log(e),t.send({memories:n})})}),i.post("/add-memory",function(e,t){var n=e.body.memory,r=n.userId,a=n.description,i=n.createdAt,u=n.note;"string"==typeof r&&"string"==typeof a&&"string"==typeof u&&"number"==typeof i&&a.length>0&&r===e.user.id?new o.default(e.body.memory).save(function(e,n){e?t.status(400).send({message:"Something went wrong, this is not your fault"}):t.send(n.id)}):t.status(400).send({message:"Something went wrong, this is not your fault"})});i.post("/remove-memory",function(e,t){var n=e.body.id;"string"==typeof n&&"string"==typeof e.user.id&&n.length>0?o.default.findOneAndDelete({_id:n,userId:e.user.id},function(e,n){e?t.status(400).send({message:"Something went wrong, this is not your fault"}):n?t.send(n._id):t.status(400).send({message:"Something went wrong, this is not your fault"})}):t.status(400).send({message:"Something went wrong, this is not your fault"})}),i.post("/edit-memory",function(e,t){var n=e.body,r=n._id,a=n.updates;"string"==typeof r&&"string"==typeof a.description&&"string"==typeof a.note&&a.description.length>0?o.default.findOneAndUpdate({_id:r,userId:e.user.id},a,function(e,n){e?t.status(400).send({message:"Something went wrong, this is not your fault"}):n?t.send(r):t.status(400).send({message:"Something went wrong, this is not your fault"})}):t.status(400).send({message:"Something went wrong, this is not your fault"})}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(10)),o=u(n(9)),a=u(n(14)),i=(u(n(5)),u(n(13)));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.Router();s.post("/register",function(e,t){var n=e.body,r=n.username,o=n.password;i.default.find({username:r},function(e,n){0===n.length?"string"==typeof r&&"string"==typeof o&&r.length>2&&o.length>7?a.default.genSalt(10,function(e,n){e?(console.log(e),t.status(400).send({message:"Something went wrong, this is not your fault"})):a.default.hash(o,n,function(e,n){e&&console.log(e),new i.default({username:r,passwordHash:n}).save().then(function(e){t.send("You are registered!")}).catch(function(e){console.log(e),t.status(400).send({message:"Something went wrong, this is not your fault"})})})}):t.status(400).send({message:"Something went wrong, this is not your fault"}):t.status(400).send({message:"User with such username already exists, please choose a different one"})})}),s.post("/login",function(e,t,n){o.default.authenticate("local",function(n,r,o){n&&(console.log(n),t.status(400).send(o)),r?e.login(r,function(e){e?(console.log(e),t.status(401).send(o)):t.send(o)}):t.status(401).send(o)})(e,t,n)}),s.post("/logout",function(e,t){e.logout(),t.send("Succesfully logged out!")}),t.default=s},function(e,t,n){"use strict";var r=a(n(8)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}r.default.connect(o.default.mongodb.dbURI,{useNewUrlParser:!0},function(){console.log("Connected to MongoDB")})},function(e,t){e.exports=require("passport-local")},function(e,t,n){"use strict";var r=u(n(9)),o=u(n(48)),a=u(n(14)),i=u(n(13));u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.Strategy;r.default.serializeUser(function(e,t){t(null,e.id)}),r.default.deserializeUser(function(e,t){i.default.findById(e).then(function(e){t(null,e)})}),r.default.use(new s({usernameField:"username",passwordField:"password"},function(e,t,n){i.default.findOne({username:e}).then(function(e){if(!e)return n(null,!1,{message:"Such user doesn't exist"});a.default.compare(t,e.passwordHash,function(t,r){return t&&console.log(t),r?n(null,e,{id:e.id,username:e.username}):n(null,!1,{message:"Wrong password"})})}).catch(function(e){return n(e,!1,{message:"Something went wrong, this is not your fault"})})}))},function(e,t){e.exports=require("cookie-session")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("reload")},function(e,t,n){"use strict";(function(e){var t=d(n(15)),r=d(n(10)),o=d(n(9)),a=d(n(52)),i=d(n(51)),u=d(n(50)),s=d(n(5));n(49),n(47);var l=d(n(46)),c=d(n(45)),f=d(n(44));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)(),m=process.env.PORT||3e3;p.use("/dist",r.default.static(t.default.join(e,"..","dist"))),p.use("/assets",r.default.static(t.default.join(e,"..","assets"))),p.use((0,u.default)({maxAge:6048e5,keys:[s.default.session.cookieKey]})),p.use(i.default.urlencoded({extended:!0})),p.use(i.default.json()),p.use(o.default.initialize()),p.use(o.default.session()),p.use("/auth",l.default),p.use("/api",c.default),p.use(function(e,t,n){"/"===e.url&&e.user?t.redirect("/dashboard"):"/login"===e.url&&e.user?t.redirect("/dashboard"):"/dashboard"!==e.url||e.user?n():t.redirect("/")}),p.get("*",f.default),(0,a.default)(p),p.listen(m),console.log("Running on port "+m)}).call(this,"server")}]);